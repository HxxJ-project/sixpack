<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>마이페이지</title>
  </head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script>
    // let query = localStorage.getItem('token');
    // console.log('query: ', query);
    // let param = new URLSearchParams(query);
    // console.log('param: ', param);
    // let userId = +param.get('id');
    // console.log('userId: ', userId);

    $(document).ready(function () {
      user();
    });

    function user() {
      axios
        .get(`api/user`, {
          headers: { Authorization: 'Bearer ' + localStorage.getItem('token') },
        })
        .then((res) => {
          console.log('res!!!: ', res);
          $('#nickname').text(res.data.nickname);
        })
        .catch((err) => {
          console.log(err);
        });
    }
  </script>
  <body>
    <span id="nickname"></span>
    <a href="myinfo">></a>
  </body>
  <script></script>
</html>
